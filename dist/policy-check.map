{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap bd96757fce9498290e98","webpack:///./src/index.js"],"names":["PolicyCheck","btn","options","self","__data","undefined","form","submit","checked","__option","Object","assign","text","methods","init","parents","querySelector","setEvents","setChecked","changeSubmitState","addEventListener","events","OnChangeInput","OnSubmitForm","disabled","elem","selector","elements","isHaveSelector","parentElement","nodeType","Node","ELEMENT_NODE","matches","push","event","preventDefault","alert"],"mappings":"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","file":"policy-check.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"PolicyCheck\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"PolicyCheck\"] = factory();\n\telse\n\t\troot[\"PolicyCheck\"] = factory();\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/dist\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap bd96757fce9498290e98","'use strict';\n\nfunction PolicyCheck (btn, options) {\n    let self = this;\n\n    self.__data = {\n        btn: undefined,\n        form: undefined,\n        submit: undefined,\n        checked: false\n    };\n    self.__option = Object.assign({}, {\n        text: 'First, you agree with the rules.'\n    }, options);\n\n    const methods = {\n        init () {\n            self.__data.btn = btn;\n\n            self.__data.form = methods.parents(self.__data.btn, 'form')[0];\n            self.__data.submit = self.__data.form.querySelector('[type=\"submit\"]');\n\n            methods.setEvents();\n            methods.setChecked();\n\n            return {\n                'self': self,\n                'changeSubmitState': methods.changeSubmitState,\n                'setChecked': methods.setChecked\n            };\n        },\n\n        setEvents() {\n            self.__data.btn.addEventListener('change', events.OnChangeInput);\n\n            self.__data.form.addEventListener('submit', events.OnSubmitForm);\n\n            self.__data.submit.addEventListener('click', events.OnSubmitForm);\n        },\n\n        changeSubmitState() {\n            self.__data.submit.disabled = (!self.__data.checked);\n        },\n\n        setChecked() {\n            self.__data.checked = self.__data.btn.checked;\n\n            methods.changeSubmitState();\n        },\n\n        parents(elem, selector) {\n            let elements = [];\n            let isHaveSelector = (selector !== undefined);\n\n            while ((elem = elem.parentElement) !== null) {\n                if (elem.nodeType !== Node.ELEMENT_NODE) {\n                    continue;\n                } else if (!isHaveSelector || elem.matches(selector)) {\n                    elements.push(elem);\n                }\n            }\n\n            return elements;\n        }\n    };\n\n    const events = {\n        OnChangeInput(event) {\n            methods.setChecked();\n        },\n\n        OnSubmitForm(event) {\n            methods.setChecked();\n\n            if (!self.__data.checked) {\n                event.preventDefault();\n                alert(self.__option.text);\n            }\n        }\n    };\n\n    return methods.init();\n}\n\nexport default PolicyCheck;\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js"],"sourceRoot":""}